/*****************************************Copyright(C)******************************************
*******************************************杭州快电*********************************************
**-----------------------------------------文件信息---------------------------------------------
**文    件    名: usb_test.c
**硬          件: STM32
**创    建    人:  
**创  建  日  期:  
**最  新  版  本: V0.1
**描          述: usb程序
**---------------------------------------历史版本信息-------------------------------------------
**修    改    人: 
**日          期: 
**版          本: 
**描          述:
**----------------------------------------------------------------------------------------------
***********************************************************************************************/
/* Includes-----------------------------------------------------------------------------------*/
#include 	"sysconfig.h"
#include 	"usb_main.h"
#include "usbh_usr.h" 	
/* Private macro------------------------------------------------------------------------------*/
USBH_HOST  USB_Host;
USB_OTG_CORE_HANDLE  USB_OTG_Core;
/* Private variables--------------------------------------------------------------------------*/
/* Private function prototypes----------------------------------------------------------------*/

/* Private functions--------------------------------------------------------------------------*/
#if (BSP_USBHOSTENABLE > 0)	
/*****************************************************************************
* Function     : TaskUsbMain
* Description  : USB测试任务
* Input        : void
* Output       : None
* Return       :
* Note(s)      :
* Contributor  : 2018年5月22日       
*****************************************************************************/
void TaskUsbMain(void *pdata)
{	
	OSTimeDly(SYS_DELAY_2s);
	USBH_Init(&USB_OTG_Core,USB_OTG_FS_CORE_ID,&USB_Host,&USBH_MSC_cb,&USR_cb);  	//初始化USB主机
	while(1)
	{				
			USBH_Process(&USB_OTG_Core, &USB_Host);
			OSTimeDly(SYS_DELAY_10ms);
	}
	
}
#endif
/************************(C)COPYRIGHT 2018 杭州快电*****END OF FILE****************************/
